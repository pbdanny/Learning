x > 3
all(x > 3)
m <- matrix(1:4, nrow = 2, byrow = FALSE)
m
3*m
m %*% m
z <- matrix(1:16, nrow = 4)
z
z[,2:3]
z <- matrix(1:6, nrow = 3)
z
z <- cbind(z, rep(1,3))
z
attributes(z)
z
x <- c(1:6)
x
as.character(x)
as.logical(x)
as.integer(x)
j <- list(name = "Joe", salary = 55000, union = T)
j
class(j)
j$name
class(j$name)
class(j[1])
class(j[[1]])
class[2]
class(j[[2]])
class(j[[1]])
class(j[[3]])
j$name
j$name
j[[1]]
j["name"]
class(j["name"])
class(j[["name"]])
j["name"]
j$location <- "bangkok"
j
j[["location"]]
j[["union"]] <- NULL
j
kid <- c("Jack", "Jill")
age <- c(12, 10)
d <- data.frame(kid, age)
d
str(d)
class(kid)
is.factor(kid)
is.factor(d$kid)
d[[1]]
d["kid"]
d[["kid"]]
head(mtcars)
mtcars$ratio <- mtcars$hp/mtcars$cyl
mtcars$ratio <- NULL
m <- rbind(mtcars, list(99, 10, 200, 999, 9, 9, 99, 1,1,9,9))
m
class(m)
m <- rbind(mtcars, c(99, 10, 200, 999, 9, 9, 99, 1, 1, 9,9)
m <- rbind(mtcars, c(99, 10, 200, 999, 9, 9, 99, 1, 1, 9,9))
m
class(m)
c <- read.csv(file.choose(), sep = ";", header = T)
?zip.file.extract
?zip
d <- read.csv(file.choose(), sep = ";", header = T)
d
head(d)
str(d)
d <- read.csv(file.choose(), sep = ";", header = T, stringsAsFactors = F)
d <- read.csv(file.choose(), sep = ";", header = T, stringsAsFactors = F)
str(d)
head(d$age  )
d[,d$age > 35 || d$age < 45]
d[d$age > 35 || d$age < 45]
nrow(d[d$age > 35 || d$age < 45])
nrow(d)
nrow(d[d$age > 35 && d$age < 45,])
nrow(d[d$age > 35 || d$age < 45,])
?==
?if
?if
?ifelse
d[d$age >= 35 || d$age <= 45]
head(d$age)
str(d$age)
d[d$age >= 35 || d$age <= 45,]
nrow(d$age <= 35)
d$age <= 35
sum(d$age <= 35)
head(d[d$age <= 35,])
head(d[d$age >= 35 | d$age < 40,])
head(d[d$age >= 35 & d$age < 40,])
head(d[d$age >= 35 && d$age < 40,])
head(d[d$age >= 35 & d$age < 40,])
head(d[d$age >= 35 & d$age < 40,])
nrow(d[d$age >= 35 & d$age < 40,])
nrow(d[d$age >= 35 & d$age <= 45,])
nrow(d[d$age >= 35 && d$age <= 45,])
nrow(d[d$age >= 35 & d$age <= 45,])
head(d[d$age >= 35 & d$age <= 45,])
nrow(d)
nrow(d[d$age >= 35 & d$age <= 45,])
nrow(d[d$age >= 35 & d$age <= 40,])
m <- rbind(mtcars, list(99, 10, 200, 999, 9, 9, 99, 1,1,9,9))
class(m)
m <- rbind(mtcars, c(99, 10, 200, 999, 9, 9, 99, 1, 1, 9,9))
class(m)
ls()
class(list = ls())
class(ls())
class(list = ls()
)
class(m)
class(mtcars)
str(m)
str(mtcars)
x <- rbind(m,m)
class(m)
x <- rbind(m,m)
class(m)
class(x)
load("~/Documents/R Project/Machine Learning for business/data/2-DataPrep.RData")
flight <- read.csv(file = file.choose(), header = T, stringsAsFactors = F)
load("~/Documents/R Project/Machine Learning for business/data/2-DataPrep.RData")
flight <- read.csv(file = file.choose(), header = T, stringsAsFactors = F)
ls9)
ls()
str(flight)
library(dplyr)
flight %>%
select(carrier, dep_delay, arr_delay) %>%
filter(!is.na(dep_delay)) %>%
filter(!is.na(arr_delay))
flight %>%
select(carrier, dep_delay, arr_delay) %>%
filter(!is.na(dep_delay)) %>%
filter(!is.na(arr_delay)) %>%
group_by(carrier) %>%
summarise(mean_dep = mean(dep_delay), mean_arr = mean(arr_delay)) %>%
arrange(mean_dep)
flight %>%
select(carrier, dep_delay, arr_delay) %>%
filter(!is.na(dep_delay), !is.na(arr_delay)) %>%
group_by(carrier) %>%
summarise(mean_dep = mean(dep_delay), mean_arr = mean(arr_delay)) %>%
arrange(mean_dep) -> data2
ls()
rm(cases)
rm(flight)
rm(pollution)
rm(storms)
rm(tb)
ls()
flight <- read.csv(file = file.choose(), header = T, stringsAsFactors = F)
str(data2)
View(data2)
library(ggplot2)
ls9)
ls()
flight <- read.csv(file = file.choose(), header = T, stringsAsFactors = F)
getwd()
flight <- read.csv(file = "/data/flight.csv", header = T, stringsAsFactors = F)
flight <- read.csv(file = "\data\flight.csv", header = T, stringsAsFactors = F)
flight <- read.csv(file = "./data/flight.csv", header = T, stringsAsFactors = F)
flight <- read.csv(file = "../data/flight.csv", header = T, stringsAsFactors = F)
getwd()
flight <- read.csv(file = "/data/flights.csv", header = T, stringsAsFactors = F)
flight <- read.csv(file = "./data/flights.csv", header = T, stringsAsFactors = F)
flight %>%
select(carrier, dep_delay, arr_delay) %>%
filter(!is.na(dep_delay), !is.na(arr_delay)) %>%
group_by(carrier) %>%
summarise(mean_dep = mean(dep_delay), mean_arr = mean(arr_delay)) %>%
arrange(mean_dep) -> data2
# ggplot2
library(ggplot2)
str(flight)
ggplot(data = flight, mapping = aes(x = distance/air_time) + geom_histogram()
ggplot(data = flight, mapping = aes(x = distance/air_time)) + geom_histogram()
ggplot(data = flight, mapping = aes(x = distance/air_time)) + geom_histogram()
# ggplot2
library(ggplot2)
str(flight)
flight %>%
select(carrier, dep_delay, arr_delay) %>%
filter(!is.na(dep_delay), !is.na(arr_delay)) %>%
group_by(carrier) %>%
summarise(mean_dep = mean(dep_delay), mean_arr = mean(arr_delay)) %>%
arrange(mean_dep) -> data2
ls()
flight %>%
select(carrier, dep_delay, arr_delay) %>%
filter(!is.na(dep_delay), !is.na(arr_delay)) %>%
group_by(carrier) %>%
summarise(mean_dep = mean(dep_delay), mean_arr = mean(arr_delay)) %>%
arrange(mean_dep) -> data2
library(dplyr)
flight %>%
select(carrier, dep_delay, arr_delay) %>%
filter(!is.na(dep_delay), !is.na(arr_delay)) %>%
group_by(carrier) %>%
summarise(mean_dep = mean(dep_delay), mean_arr = mean(arr_delay)) %>%
arrange(mean_dep) -> data2
ls()
str(data2)
ggplot(data = data2,
mapping = aes(x = mean_dep, y = mean_arr)) +
geom_point() +
geom_smooth(method = "lm")
ggplot(data = data2,
mapping = aes(x = mean_dep, y = mean_arr)) +
geom_point(aes(color = Carrier)) +
geom_smooth(method = "lm")
str(data2)
ggplot(data = data2,
mapping = aes(x = mean_dep, y = mean_arr)) +
geom_point(aes(color = carrier)) +
geom_smooth(method = "lm")
args(geom_histogram)
args(stat_bin)
ggplot(data = data2,
mapping = aes(x = distance/air_time)) +
geom_histogram()
str(data)
str(data2)
ggplot(data = fligth,
mapping = aes(x = distance/air_time)) +
geom_histogram()
ggplot(data = flight,
mapping = aes(x = distance/air_time)) +
geom_histogram()
ggplot(data = flight,
mapping = aes(x = distance/air_time)) +
geom_histogram(color = "gray")
ggplot(data = data2,
mapping = aes(x = mean_delay)) +
geom_dotplot()
ggplot(data = data2,
mapping = aes(x = mean_dep)) +
geom_dotplot()
ggplot(data = flight,
mapping = aex(x = distance/air_time)) +
geom_density()
ggplot(data = flight,
mapping = aes(x = distance/air_time)) +
geom_density()
ggplot(data = flight,
mapping = aes(x = air_time)) +
geom_freqpoly()
ggplot(data = flight,
aes(x = carrier)) +
geom_bar()
ggplot(data = data2,
aes(x = mean_dep, y = mean_arr)) +
geom_point()
ggplot(data = data2,
aes(x = mean_dep, y = mean_arr)) +
geom_line()
ggplot(data = data2,
mapping = aes(x = mean_dep, y = mean_ar)) +
geom_quantile()
ggplot(data = data2,
mapping = aes(x = mean_dep, y = mean_arr)) +
geom_quantile()
ggplot(data = data2,
mapping = aes(x = mean_dep, y = mean_arr)) +
geom_quantile() +
geom_point()
ggplot(data = sample_frac(flight, 0.1),
mapping = aes(x = dep_delay, y = arr_delay)) +
geom_density_2d()
ggplot(data = sample_frac(flight, 0.1),
mapping = aes(x = dep_delay, y = arr_delay)) +
geom_density_2d()
ggplot(data = sample_frac(flight, 0.1),
mapping = aes(x = dep_delay, y = arr_delay)) +
geom_density_2d()
ggplot(data = sample_frac(flight, 0.1),
mapping = aes(x = dep_delay, y = arr_delay)) +
geom_density_2d()
ggplot(data = sample_frac(flight, 0.1),
mapping = aes(x = dep_delay, y = arr_delay)) +
geom_density_2d()
ggplot(data = flight,
mapping = aes(x = dep_delay, y = arr_delay)) +
geom_density_2d()
ggplot(data = flight,
mapping = aes(x = dep_delay, y = arr_delay)) +
geom_bin2d()
ggplot(data = flight,
mapping = aes(x = air_time, y = distance)) +
geom_bin2d()
str(data2)
ggplot(data = data2,
mapping = aes(x = carrier, fill = carrier)) +
geom_bar(stat = "identity")
ggplot(data = data2,
mapping = aes(x = carrier, fill = carrier)) +
geom_bar(stat = "identity")
ggplot(data = data2,
mapping = aes(x = carrier)) +
geom_bar(stat = "identity")
ggplot(data = data2,
mapping = aes(x = carrier, y = mean_delay)) +
geom_bar(stat = "identity")
ggplot(data = data2,
mapping = aes(x = carrier, y = mean_dep)) +
geom_bar(stat = "identity")
ggplot(data = data2,
mapping = aes(x = carrier, y = mean_dep, fill = carrier)) +
geom_bar(stat = "identity")
# Sampling data
bankData <- read.csv(file = "../data/2-bank-data.csv", header = T)
getwd()
# Sampling data
bankData <- read.csv(file = "/data/2-bank-data.csv", header = T)
# Sampling data
bankData <- read.csv(file = ". /data/2-bank-data.csv", header = T)
# Sampling data
bankData <- read.csv(file = "./data/2-bank-data.csv", header = T)
str(bankData)
# Sampling data
bankData <- read.csv(file = "./data/2-bank-data.csv", header = T, sep = ";")
str(bankData)
# Sampling data
bankData <- read.csv(file = "./data/2-bank-data.csv",
header = T, sep = ";", stringsAsFactors = F)
str(bankData)
ls()
?seq_len
seq_along(bankData)
str(bankData)
seq_len(bankData)
seq_len(10)
idx <- sample(seq_len(nrow(bankData), 10)
idx <- sample(seq_len(nrow(bankData), 10))
idx <- sample(seq_len(nrow(bankData), 10))
idx <- sample(seq_len(nrow(bankData), size = 10))
sample(1:10, size = 5)
idx <- sample(1:nrow(bankData), size = 10))
idx <- sample(1:nrow(bankData), size = 10)
idx
test <- bankData[idx,]
train <- bankData[-idx,]
# dplyr
test <- sample_n(bankData, 5)
dim(test)
test <- sample_frac(bankData, size = 0.01)
dim(bankData)
dim(test)
bankData %>% sample_n(400) %>%
group_by(education) %>%
summarise(sample_age = mean(age))
bankData %>% sample_n(400) %>%
group_by(education) %>%
summarise(sample_age = mean(age))
str(bankData)
View(d2)
# stratify
bankData %>% group_by(y, education) %>% sample_n(2) -> d2
View(d2)
table(bankData$y)
prop.table(table(bankData$y))
bankData %>% sample_frac(size = 0.1) %>% prob.table(table(y))
bankData %>% sample_frac(size = 0.1) %>% prop.table(table(y))
bankData %>% sample_frac(size = 0.1) %>% summarise(n = n())
bankData %>% sample_frac(size = 0.1) %>% group_by(y) %>% summarise(n = n())
bankData %>% sample_frac(size = 0.1) %>% group_by(y) %>% summarise(n = n()) -> d1
table(d1)
bankData %>% sample_frac(size = 0.1) %>% table()
bankData %>% sample_frac(size = 0.1) %>% table(y)
# muli-stage cluster
res <- kmeans(mtcars, 5)
View(res)
# muli-stage cluster
kclust <- kmeans(mtcars, 5)
data1$cluster <- kclust$cluster
data1 %>% group_by(cluster) %>% sample_n(2)
data1 %>% group_by(cluster) %>% sample_n(2) -> d1
data1 <- mtcars
data1$cluster <- kclust$cluster
data1 %>% group_by(cluster) %>% sample_n(2) -> d1
View(d1)
bankData %>% sample_frac(size = 0.1) -> d1
table(d1$y)
prop.table(table(d1$y))
prop.table(table(d1$y))
bankData %>% sample_frac(size = 0.1) -> d1
prop.table(table(d1$y))
prop.table(table(bankData$y))
prop.table(table(d1$y))
bankData %>% sample_frac(size = 0.1) -> d1
prop.table(table(bankData$y))
prop.table(table(d1$y))
summary(bankData)
summary(bankData)
# EDA
bankData %>% group_by(job) %>% summarise(n = n())
source('~/Documents/R Project/Machine Learning for business/LearningDay2.R', echo=TRUE)
# EDA
bankData %>% group_by(job) %>% summarise(n = n()) %>% arrange(n)
bankData %>%
group_by(education) %>%
summarise(n = n(),
med_bal = median(balance),
mean_bal = mean(balance))
sa = sd(balance)
bankData %>%
group_by(education) %>%
summarise(n = n(),
med_bal = median(balance),
mean_bal = mean(balance),
sa = sd(balance))
bankData %>%
group_by(education) %>%
summarise(n = n(),
med_bal = median(balance),
mean_bal = mean(balance),
sd = sd(balance))
bankData %>%
group_by(education) %>%
summarise(n = n(),
med_bal = median(balance),
mean_bal = mean(balance),
sd = sd(balance),
Q3 = quantile(balance, 0.75),
IQR = IQR(balance))
bankData %>%
group_by(education) %>%
summarise(n = n(),
med_bal = median(balance),
mean_bal = mean(balance),
sd = sd(balance),
Q3 = quantile(balance, 0.75),
IQR = IQR(balance))
bankData %>%
group_by(education) %>%
summarise(n = n(),
med_bal = median(balance),
mean_bal = mean(balance),
sd = sd(balance),
Q3 = quantile(balance, 0.75),
IQR = IQR(balance))
bankData %>%
group_by(education) %>%
summarise(n = n(),
Q1 = quantile(balance, 0.25)
med_bal = median(balance),
mean_bal = mean(balance),
sd = sd(balance),
Q3 = quantile(balance, 0.75),
IQR = IQR(balance))
bankData %>%
group_by(education) %>%
summarise(n = n(),
Q1 = quantile(balance, 0.25),
med_bal = median(balance),
mean_bal = mean(balance),
sd = sd(balance),
Q3 = quantile(balance, 0.75),
IQR = IQR(balance))
bankData %>%
group_by(education) %>%
summarise(n = n(),
Q1 = quantile(balance, 0.25),
med_bal = median(balance),
mean_bal = mean(balance),
sd = sd(balance),
Q3 = quantile(balance, 0.75),
IQR = IQR(balance))
bankData %>%
ggplot(aes(x = age)) +
geom_histogram()
bankData %>%
ggplot(aes(x = age)) +
geom_histogram(binwidth = 1)
bankData %>%
ggplot(aes(x = age)) +
geom_histogram(binwidth = 1) +
geom_freqpoly(color = "red")
bankData %>%
ggplot(aes(x = age)) +
geom_histogram(binwidth = 1) +
geom_density(color = "red")
bankData %>%
ggplot(aes(x = age)) +
geom_histogram(binwidth = 1)
library(plotly)
bankData %>%
ggplot(aes(x = age)) +
geom_histogram(binwidth = 1) -> g
ggplotly(g)
bankData %>%
ggplot(aes(x = education, y = age, fill = education)) +
geom_boxplot()
bankData %>%
ggplot(aes(x = education, y = age, fill = education)) +
geom_violin()
bankData %>%
ggplot(aes(x = education, y = age, fill = education)) +
geom_violin()
bankData %>%
ggplot(aes(x = education, y = age, fill = education)) +
geom_violin() +
geom_boxplot()
bankData %>%
ggplot(aes(x = education, y = age, fill = education)) +
geom_violin() +
geom_boxplot(alpha = 0.5)
